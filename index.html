<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UK Theory Test - Practice Mode</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .progress-container {
            width: 100%;
            max-width: 800px;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .progress-text {
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
        }

        .question-container {
            width: 100%;
            max-width: 800px;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .question-number {
            color: #667eea;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 22px;
            color: #333;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .option {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option:hover:not(.selected):not(.correct):not(.wrong):not(.disabled) {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .option.selected {
            background: #667eea;
            color: white;
            border-color: #764ba2;
            transform: scale(1.02);
        }

        .option.correct {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .option.wrong {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .option-letter {
            background: white;
            color: #667eea;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            flex-shrink: 0;
        }

        .option.selected .option-letter {
            background: white;
            color: #667eea;
        }

        .option.correct .option-letter {
            background: #28a745;
            color: white;
        }

        .option.wrong .option-letter {
            background: #dc3545;
            color: white;
        }

        .option-text {
            flex: 1;
            font-size: 18px;
        }

        .feedback {
            display: none;
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            line-height: 1.6;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #d4edda;
            border: 2px solid #28a745;
            color: #155724;
        }

        .feedback.wrong {
            background: #f8d7da;
            border: 2px solid #dc3545;
            color: #721c24;
        }

        .feedback-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feedback-text {
            font-size: 16px;
        }

        .button-container {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }

        .btn {
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-next {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-next:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-next:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .results-container {
            text-align: center;
        }

        .results-score {
            font-size: 72px;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 20px 0;
        }

        .results-text {
            font-size: 24px;
            color: #333;
            margin-bottom: 10px;
        }

        .results-details {
            font-size: 18px;
            color: #666;
            margin-bottom: 30px;
        }

        .btn-restart {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 50px;
            font-size: 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-restart:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .hidden {
            display: none;
        }

        .score-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin: 0 5px;
        }

        .score-correct {
            background: #28a745;
            color: white;
        }

        .score-wrong {
            background: #dc3545;
            color: white;
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-text">
            <span id="progress-text">Question 1 of 51</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill">
                <span id="progress-percentage">0%</span>
            </div>
        </div>
    </div>

    <!-- Question Container -->
    <div class="question-container" id="question-container">
        <div class="question-number" id="question-number">Question 1</div>
        <div class="question-text" id="question-text"></div>
        <div class="options" id="options"></div>
        
        <!-- Feedback Section -->
        <div class="feedback" id="feedback">
            <div class="feedback-title" id="feedback-title"></div>
            <div class="feedback-text" id="feedback-text"></div>
        </div>

        <div class="button-container">
            <button class="btn btn-next" id="next-btn" disabled>Next Question</button>
        </div>
    </div>

    <!-- Results Container -->
    <div class="question-container hidden" id="results-container">
        <div class="results-container">
            <h2>ðŸŽ‰ Quiz Complete!</h2>
            <div class="results-score" id="results-score">0%</div>
            <div class="results-text" id="results-text"></div>
            <div class="results-details" id="results-details"></div>
            <button class="btn-restart" onclick="restartQuiz()">Practice Again</button>
        </div>
    </div>

    <script>
        const questions = [
  {
    "number": 3,
    "text": "What hazard should you be especially aware of if you're turning left into a side road?",
    "options": {
      "A": "One-way street",
      "B": "Parked vehicles",
      "C": "Traffic congestion",
      "D": "Pedestrians"
    },
    "correct": "D",
    "explanation": "Pedestrians are vulnerable road users who may be crossing the side road. You must always give way to them when turning."
  },
  {
    "number": 4,
    "text": "Why should you check for motorcyclists just before turning right into a side road?",
    "options": {
      "A": "They may be following you closely",
      "B": "They may be overtaking on your right",
      "C": "They may be emerging from the side road",
      "D": "They may be overtaking on your left"
    },
    "correct": "B",
    "explanation": "Motorcyclists can be difficult to see and may be overtaking you on the right side, especially in slow-moving traffic."
  },
  {
    "number": 5,
    "text": "Why is a toucan crossing different from a puffin crossing?",
    "options": {
      "A": "It's controlled by two flashing lights",
      "B": "Moped riders can use it",
      "C": "It's controlled by a traffic warden",
      "D": "Pedestrians and cyclists can use it together"
    },
    "correct": "D",
    "explanation": "A toucan crossing allows both pedestrians and cyclists to cross together. The name 'toucan' is a play on 'two can' cross."
  },
  {
    "number": 6,
    "text": "How will a school crossing patrol signal you to stop?",
    "options": {
      "A": "By displaying a 'stop' sign",
      "B": "By displaying a red light",
      "C": "By pointing to children waiting to cross",
      "D": "By giving you an arm signal"
    },
    "correct": "A",
    "explanation": "School crossing patrols use a 'stop' sign on a pole to signal drivers to stop for children crossing."
  },
  {
    "number": 11,
    "text": "What should you do when you see an older person about to cross the road ahead?",
    "options": {
      "A": "Speed up to get past them quickly",
      "B": "Be careful; they may misjudge your speed",
      "C": "Stop and wave them across the road",
      "D": "Expect them to wait for you to pass"
    },
    "correct": "B",
    "explanation": "Older people may take longer to cross and might misjudge your speed. Be patient and prepared to slow down or stop."
  },
  {
    "number": 12,
    "text": "You're approaching a roundabout. What should you do if a cyclist ahead is signalling to turn right?",
    "options": {
      "A": "Overtake on the right",
      "B": "Give a warning with your horn",
      "C": "Signal the cyclist to move across",
      "D": "Give the cyclist plenty of room"
    },
    "correct": "D",
    "explanation": "Cyclists need extra room at roundabouts as they may need to take a wider path. Give them plenty of space and be patient."
  },
  {
    "number": 13,
    "text": "Which vehicle should you allow extra room as you overtake them?",
    "options": {
      "A": "Road-sweeper",
      "B": "Tractor",
      "C": "Bicycle",
      "D": "Lorry"
    },
    "correct": "C",
    "explanation": "Bicycles are vulnerable and can wobble or be affected by wind. Always give them at least as much room as you would a car."
  },
  {
    "number": 14,
    "text": "Why should you look carefully for motorcyclists and cyclists at junctions?",
    "options": {
      "A": "They may want to turn into the side road",
      "B": "They might not see you turn",
      "C": "They're harder to see",
      "D": "They may slow down to let you turn"
    },
    "correct": "C",
    "explanation": "Motorcyclists and cyclists are smaller and harder to see than cars, especially at junctions where there may be blind spots."
  },
  {
    "number": 15,
    "text": "You're waiting to come out of a side road. Why should you look carefully for motorcycles?",
    "options": {
      "A": "Motorcycles have right of way",
      "B": "Motorcycles are usually faster than cars",
      "C": "Police patrols often use motorcycles",
      "D": "Motorcycles can easily be hidden behind obstructions"
    },
    "correct": "D",
    "explanation": "Motorcycles are smaller vehicles and can be hidden behind obstructions like trees, posts, or other vehicles. Always check carefully."
  },
  {
    "number": 16,
    "text": "Why do motorcyclists use dipped headlights in daylight?",
    "options": {
      "A": "So that the rider can be seen more easily",
      "B": "To stop the battery overcharging",
      "C": "To improve the rider's vision",
      "D": "The rider is inviting you to proceed"
    },
    "correct": "A",
    "explanation": "Motorcyclists use dipped headlights during the day to make themselves more visible to other road users."
  },
  {
    "number": 17,
    "text": "Why do motorcyclists wear bright clothing?",
    "options": {
      "A": "They must do so by law",
      "B": "To make them more visible",
      "C": "The colours are popular",
      "D": "It helps keep them cool in summer"
    },
    "correct": "B",
    "explanation": "Bright or fluorescent clothing helps motorcyclists be seen more easily by other road users, improving their safety."
  },
  {
    "number": 18,
    "text": "Why do motorcyclists often look round over their right shoulder just before turning right?",
    "options": {
      "A": "It helps them balance as they turn",
      "B": "To listen for traffic behind them",
      "C": "To check for traffic in their blind area",
      "D": "Motorcycles don't have mirrors"
    },
    "correct": "C",
    "explanation": "Motorcyclists check over their shoulder to look in their blind spot where mirrors don't show the full view."
  },
  {
    "number": 19,
    "text": "Which is the most vulnerable road user?",
    "options": {
      "A": "Motorcyclist",
      "B": "Lorry driver",
      "C": "Tractor driver",
      "D": "Car driver"
    },
    "correct": "A",
    "explanation": "Motorcyclists are the most vulnerable as they have no protection around them and are harder to see than larger vehicles."
  },
  {
    "number": 20,
    "text": "You're approaching a roundabout. What should you do if there are horses being ridden in front of you?",
    "options": {
      "A": "Sound your horn as a warning",
      "B": "Accelerate past as quickly as possible",
      "C": "Give them plenty of room",
      "D": "Treat them like any other vehicle"
    },
    "correct": "C",
    "explanation": "Horses can be easily startled. Give them plenty of room, slow down, and be patient. Never sound your horn near horses."
  },
  {
    "number": 21,
    "text": "As you approach a pelican crossing, the lights change to green. What should you do if older people are still crossing?",
    "options": {
      "A": "Flash your lights in case they haven't noticed you",
      "B": "Wave them to cross as quickly as they can",
      "C": "Rev your engine to make them hurry",
      "D": "Wait patiently while they cross"
    },
    "correct": "D",
    "explanation": "Even if the lights have changed, you must wait for pedestrians to finish crossing. Older people may need more time."
  },
  {
    "number": 25,
    "text": "You're following two cyclists as they approach a roundabout in the left-hand lane. Where would you expect the cyclists to go?",
    "options": {
      "A": "Straight ahead",
      "B": "Any direction",
      "C": "Right",
      "D": "Left"
    },
    "correct": "B",
    "explanation": "Cyclists may go in any direction, even from the left lane. They need to keep left for safety even when turning right."
  },
  {
    "number": 26,
    "text": "You're travelling behind a moped. What should you do if you want to turn left a short distance ahead?",
    "options": {
      "A": "Overtake the moped before the junction",
      "B": "Pull alongside the moped and stay level until just before the junction",
      "C": "Sound your horn as a warning and pull in front of the moped",
      "D": "Stay behind until the moped has passed the junction"
    },
    "correct": "D",
    "explanation": "Stay behind the moped to avoid cutting across their path. It's safer to wait until they've passed the junction."
  },
  {
    "number": 27,
    "text": "You see a horse rider as you approach a roundabout. What should you do if they're signalling right but keeping well to the left?",
    "options": {
      "A": "Stay well back",
      "B": "Proceed as normal",
      "C": "Keep close to them",
      "D": "Cut in front of them"
    },
    "correct": "A",
    "explanation": "Horse riders stay left for safety even when turning right. Stay well back and give them plenty of room to manoeuvre."
  },
  {
    "number": 28,
    "text": "How should you react to inexperienced drivers?",
    "options": {
      "A": "Sound your horn to warn them of your presence",
      "B": "Be patient and prepare for them to react more slowly",
      "C": "Flash your headlights to indicate that it's safe for them to proceed",
      "D": "Overtake them as soon as possible"
    },
    "correct": "B",
    "explanation": "Inexperienced drivers may take longer to react and make decisions. Be patient and give them time and space."
  },
  {
    "number": 29,
    "text": "What should you do when you're following a learner driver who stalls at a junction?",
    "options": {
      "A": "Stay very close behind and flash your headlights",
      "B": "Immediately steer around them and drive on",
      "C": "Start to rev your engine if they take too long to restart",
      "D": "Be patient, as you expect them to make mistakes"
    },
    "correct": "D",
    "explanation": "Learner drivers are still learning and may make mistakes. Be patient and give them space to recover from errors."
  },
  {
    "number": 30,
    "text": "You're on a country road. What should you expect to see coming towards you on your side of the road?",
    "options": {
      "A": "Horse riders",
      "B": "Motorcycles",
      "C": "Bicycles",
      "D": "Pedestrians"
    },
    "correct": "D",
    "explanation": "On country roads without pavements, pedestrians should walk facing oncoming traffic (on your side) so they can see vehicles approaching."
  },
  {
    "number": 32,
    "text": "A horse rider is in the left-hand lane approaching a roundabout. Where should you expect the rider to go?",
    "options": {
      "A": "To the right",
      "B": "Straight ahead",
      "C": "To the left",
      "D": "In any direction"
    },
    "correct": "D",
    "explanation": "Horse riders, like cyclists, may go in any direction from the left lane as they keep left for safety reasons."
  },
  {
    "number": 33,
    "text": "Powered vehicles used by disabled people are small and can be hard to see. What must they display if they're travelling on a dual carriageway?",
    "options": {
      "A": "Flashing amber beacon",
      "B": "Flashing red beacon",
      "C": "Flashing green beacon",
      "D": "Flashing blue beacon"
    },
    "correct": "A",
    "explanation": "Mobility scooters on dual carriageways must display a flashing amber beacon to make them more visible to other traffic."
  },
  {
    "number": 34,
    "text": "What does it mean when a moving vehicle is showing a flashing amber beacon?",
    "options": {
      "A": "The vehicle belongs to a school crossing patrol",
      "B": "The vehicle is slow moving",
      "C": "The vehicle is a doctor's car",
      "D": "The vehicle has broken down"
    },
    "correct": "B",
    "explanation": "A flashing amber beacon indicates a slow-moving vehicle. Be patient and only overtake when it's safe to do so."
  },
  {
    "number": 38,
    "text": "What should you do if the left-hand pavement is closed due to street repairs?",
    "options": {
      "A": "Watch out for pedestrians walking in the road",
      "B": "Position close to the left- hand kerb",
      "C": "Speed up to get past the roadworks more quickly",
      "D": "Use your right-hand mirror more often"
    },
    "correct": "A",
    "explanation": "If the pavement is closed, pedestrians will be forced to walk in the road. Be extra vigilant and slow down."
  },
  {
    "number": 39,
    "text": "What should you do when you're following a motorcyclist along a road that has a poor surface?",
    "options": {
      "A": "Follow closely so they can see you in their mirrors",
      "B": "Allow the same room as normal to avoid wasting road space",
      "C": "Allow extra room in case they swerve to avoid potholes",
      "D": "Overtake immediately to avoid delays"
    },
    "correct": "C",
    "explanation": "Motorcyclists may need to swerve suddenly to avoid potholes or uneven surfaces. Give them extra space."
  },
  {
    "number": 43,
    "text": "What does it mean if you see a pedestrian with a dog that has a yellow or burgundy coat?",
    "options": {
      "A": "The pedestrian is colour- blind",
      "B": "The pedestrian is a dog trainer",
      "C": "The pedestrian is an older person",
      "D": "The pedestrian is deaf"
    },
    "correct": "D",
    "explanation": "A dog wearing a yellow or burgundy coat indicates that the owner is deaf. They won't hear your vehicle approaching."
  },
  {
    "number": 44,
    "text": "Who may use toucan crossings?",
    "options": {
      "A": "Only cyclists",
      "B": "Motorcyclists and cyclists",
      "C": "Cyclists and pedestrians",
      "D": "Motorcyclists and pedestrians"
    },
    "correct": "C",
    "explanation": "Toucan crossings are designed for both cyclists and pedestrians to cross together ('two can' cross)."
  },
  {
    "number": 46,
    "text": "You're about to overtake a cyclist. Why should you leave them as much room as you would give to a car?",
    "options": {
      "A": "The cyclist might have to make a left turn",
      "B": "The cyclist might speed up",
      "C": "The cyclist might get off their bicycle",
      "D": "The cyclist might be unsettled if you pass too near them"
    },
    "correct": "D",
    "explanation": "Passing too close can unsettle cyclists and cause them to wobble or swerve. Always give them plenty of room."
  },
  {
    "number": 48,
    "text": "At night, what does it mean if you see a pedestrian wearing reflective clothing and carrying a bright red light?",
    "options": {
      "A": "You're approaching a traffic danger spot",
      "B": "You're approaching roadworks",
      "C": "You're approaching an organised walk",
      "D": "You're approaching a slow- moving vehicle"
    },
    "correct": "C",
    "explanation": "A person with reflective clothing and a red light at night indicates an organized walk or group. Slow down and be prepared to stop."
  },
  {
    "number": 49,
    "text": "You've just passed your driving test. How can you reduce your risk of being involved in a collision?",
    "options": {
      "A": "By always staying close to the vehicle in front",
      "B": "By never going over 40 mph",
      "C": "By staying in the left-hand lane on all roads",
      "D": "By taking further training"
    },
    "correct": "D",
    "explanation": "Taking further training, such as Pass Plus, helps new drivers develop their skills and reduce collision risk."
  },
  {
    "number": 50,
    "text": "You're turning right from a main road into a side road. There's no oncoming traffic. What should you do if pedestrians are standing on the pavement waiting to cross the side road?",
    "options": {
      "A": "Wait and give way to the pedestrians",
      "B": "Wave at the pedestrians, inviting them to cross the road",
      "C": "Turn in because the pedestrians are safe on the pavement",
      "D": "Sound your horn to alert the pedestrians to your presence"
    },
    "correct": "A",
    "explanation": "You must give way to pedestrians who are crossing or waiting to cross the road you're turning into."
  },
  {
    "number": 51,
    "text": "You're travelling on a narrow section of road. What should you do if a horse rider ahead is riding in the centre of the lane?",
    "options": {
      "A": "Get up close behind to encourage them to move aside",
      "B": "Sound your horn to alert them to your presence",
      "C": "Stay behind and allow them to ride in this position",
      "D": "Move across to the right and try to ease past them"
    },
    "correct": "C",
    "explanation": "Horse riders may ride in the center on narrow roads to prevent unsafe overtaking. Stay back and be patient."
  },
  {
    "number": 52,
    "text": "You're about to overtake a cyclist on a road that has a 30 mph speed limit. How much room should you leave them as you overtake?",
    "options": {
      "A": "At least a car's width",
      "B": "At least as much room as you would if you were overtaking a car",
      "C": "At least a car's length",
      "D": "At least 2 car widths"
    },
    "correct": "B",
    "explanation": "You should leave at least as much room when overtaking a cyclist as you would for a car - minimum 1.5 metres."
  },
  {
    "number": 53,
    "text": "You're turning left from a main road into a side road. What should you do if there's a pedestrian on the pavement waiting to cross the side road?",
    "options": {
      "A": "Flash your lights to encourage the pedestrian to cross",
      "B": "Wait and give way to the pedestrian",
      "C": "Sound your horn to let the pedestrian know you're there",
      "D": "Carry on turning into the side road"
    },
    "correct": "B",
    "explanation": "You must give way to pedestrians crossing or waiting to cross the road you're turning into."
  },
  {
    "number": 54,
    "text": "You want to reverse into a side road. What should you do if you aren't sure that the area behind your car is clear?",
    "options": {
      "A": "Get out and check",
      "B": "Carry on, assuming it's clear",
      "C": "Check the mirrors only",
      "D": "Look through the rear window only"
    },
    "correct": "A",
    "explanation": "If you're not sure the area is clear, get out and check. Mirrors and windows have blind spots, especially for small children."
  },
  {
    "number": 55,
    "text": "You're about to reverse into a side road. What should you do if a pedestrian is waiting to cross behind your car?",
    "options": {
      "A": "Give way to the pedestrian",
      "B": "Wave to the pedestrian to stop",
      "C": "Sound your horn to warn the pedestrian",
      "D": "Reverse before the pedestrian starts to cross"
    },
    "correct": "A",
    "explanation": "Always give way to pedestrians when reversing. They have priority over your manoeuvre."
  },
  {
    "number": 56,
    "text": "Which road users are most difficult to see when you're reversing your car?",
    "options": {
      "A": "Cyclists",
      "B": "Car drivers",
      "C": "Motorcyclists",
      "D": "Children"
    },
    "correct": "D",
    "explanation": "Children are small and can easily be in your blind spots. Always check carefully and get out to look if necessary."
  },
  {
    "number": 57,
    "text": "You want to turn right from a junction. What should you do if your view is restricted by parked vehicles?",
    "options": {
      "A": "Move out quickly, but be prepared to stop",
      "B": "Sound your horn and pull out if there's no reply",
      "C": "Stop, then move forward slowly until you have a clear view",
      "D": "Stop, get out and look along the main road to check"
    },
    "correct": "C",
    "explanation": "Edge forward slowly until you can see clearly. Stop if necessary and proceed only when it's safe."
  },
  {
    "number": 58,
    "text": "You're at the front of a queue of traffic waiting to turn right into a side road. Why is it important to check your right mirror just before turning?",
    "options": {
      "A": "To check for emerging traffic",
      "B": "To look for pedestrians about to cross",
      "C": "To check for overtaking vehicles",
      "D": "To make sure the side road is clear"
    },
    "correct": "C",
    "explanation": "Check your right mirror for vehicles, especially motorcyclists, who may be overtaking on your right."
  },
  {
    "number": 59,
    "text": "You've driven up to a pelican crossing. What must you do while the amber light is flashing?",
    "options": {
      "A": "Wait for the red-and-amber light before proceeding",
      "B": "Always wait for the green light before proceeding",
      "C": "Give way to any pedestrians on the crossing",
      "D": "Signal the pedestrian to cross"
    },
    "correct": "C",
    "explanation": "A flashing amber light means you must give way to any pedestrians still on the crossing before proceeding."
  },
  {
    "number": 60,
    "text": "You've stopped at a pelican crossing. What should you do if a disabled person is crossing slowly in front of you and the lights change to green?",
    "options": {
      "A": "Sound your horn",
      "B": "Wait for them to finish crossing",
      "C": "Drive in front of them",
      "D": "Edge forward slowly"
    },
    "correct": "B",
    "explanation": "Always wait patiently for pedestrians to finish crossing, especially if they're disabled or elderly and may need more time."
  },
  {
    "number": 62,
    "text": "You want to turn right from a main road into a side road. What should you do just before turning?",
    "options": {
      "A": "Cancel your right-turn signal",
      "B": "Stop and set the parking brake",
      "C": "Check for traffic overtaking on your right",
      "D": "Select first gear"
    },
    "correct": "C",
    "explanation": "Always check your right mirror for overtaking traffic, especially motorcyclists, before turning right."
  },
  {
    "number": 63,
    "text": "You're driving in a slowmoving queue of traffic. What should you do just before changing lane?",
    "options": {
      "A": "Change down to first gear",
      "B": "Sound the horn and flash your lights",
      "C": "Look for motorcyclists filtering through the traffic",
      "D": "Give a 'slowing down' arm signal"
    },
    "correct": "C",
    "explanation": "Motorcyclists often filter through slow traffic. Always check for them before changing lanes."
  },
  {
    "number": 64,
    "text": "You're driving in town. Why should you be careful if there's a bus at a bus stop on the other side of the road?",
    "options": {
      "A": "The bus might move off suddenly",
      "B": "The bus might have broken down",
      "C": "The bus might remain stationary",
      "D": "Pedestrians might come from behind the bus"
    },
    "correct": "D",
    "explanation": "Pedestrians may step out from behind the bus without seeing you. Slow down and be prepared to stop."
  },
  {
    "number": 65,
    "text": "How should you overtake horse riders?",
    "options": {
      "A": "Use your horn just once to warn them",
      "B": "Drive up close and overtake as soon as possible",
      "C": "Speed isn't important but allow plenty of room",
      "D": "Drive slowly and leave plenty of room"
    },
    "correct": "D",
    "explanation": "Pass horses slowly and with plenty of room. Sudden noise or close passing can startle them."
  },
  {
    "number": 66,
    "text": "Why should you allow extra room while overtaking a motorcyclist on a windy day?",
    "options": {
      "A": "The rider may be travelling faster than normal",
      "B": "The rider may turn off suddenly to get out of the wind",
      "C": "The rider may be blown in front of you",
      "D": "The rider may stop suddenly"
    },
    "correct": "C",
    "explanation": "Wind can blow motorcyclists off course, especially sudden gusts. Give them extra room for safety."
  },
  {
    "number": 67,
    "text": "Where should you take particular care to look for motorcyclists and cyclists?",
    "options": {
      "A": "At zebra crossings",
      "B": "On dual carriageways",
      "C": "At junctions",
      "D": "On one-way streets"
    },
    "correct": "C",
    "explanation": "Motorcyclists and cyclists are hardest to see at junctions where there are more distractions and blind spots."
  },
  {
    "number": 69,
    "text": "You're driving past parked cars. What should you do if you see a bicycle wheel sticking out between the cars?",
    "options": {
      "A": "Slow down and wave the cyclist across",
      "B": "Slow down and be prepared to stop for a cyclist",
      "C": "Brake sharply and flash your headlights",
      "D": "Accelerate past quickly and sound your horn"
    },
    "correct": "B",
    "explanation": "A visible bicycle wheel means a cyclist may emerge. Slow down and be ready to stop."
  },
  {
    "number": 70,
    "text": "You're driving at night. What should you do if you're dazzled by a vehicle behind you?",
    "options": {
      "A": "Switch your rear lights on and off",
      "B": "Brake sharply to a stop",
      "C": "Set your mirror to the anti- dazzle position",
      "D": "Set your mirror to dazzle the other driver"
    },
    "correct": "C",
    "explanation": "Use the anti-dazzle position on your mirror to reduce glare from vehicles behind you."
  },
  {
    "number": 71,
    "text": "You're driving towards a zebra crossing. What should you do if a person in a wheelchair is waiting to cross?",
    "options": {
      "A": "Continue on your way",
      "B": "Be prepared to stop",
      "C": "Wave to the person to wait",
      "D": "Wave to the person to cross"
    },
    "correct": "B",
    "explanation": "People in wheelchairs have the same right to cross as pedestrians. Be prepared to stop and give way."
  }
];

        // Quiz state
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let correctCount = 0;
        let selectedAnswer = null;
        let feedbackShown = false;

        // DOM elements
        const progressText = document.getElementById('progress-text');
        const progressFill = document.getElementById('progress-fill');
        const progressPercentage = document.getElementById('progress-percentage');
        const questionNumber = document.getElementById('question-number');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options');
        const feedbackDiv = document.getElementById('feedback');
        const feedbackTitle = document.getElementById('feedback-title');
        const feedbackText = document.getElementById('feedback-text');
        const nextBtn = document.getElementById('next-btn');
        const questionContainer = document.getElementById('question-container');
        const resultsContainer = document.getElementById('results-container');

        // Initialize quiz
        function init() {
            showQuestion();
        }

        // Show current question
        function showQuestion() {
            const question = questions[currentQuestionIndex];
            selectedAnswer = null;
            feedbackShown = false;

            // Hide feedback
            feedbackDiv.classList.remove('show', 'correct', 'wrong');

            // Update progress
            const progress = ((currentQuestionIndex) / questions.length) * 100;
            progressFill.style.width = progress + '%';
            progressPercentage.textContent = Math.round(progress) + '%';
            progressText.textContent = `Question ${currentQuestionIndex + 1} of ${questions.length}`;

            // Update question
            questionNumber.textContent = `Question ${currentQuestionIndex + 1}`;
            questionText.textContent = question.text;

            // Clear and populate options
            optionsContainer.innerHTML = '';
            ['A', 'B', 'C', 'D'].forEach(letter => {
                if (question.options[letter]) {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'option';
                    optionDiv.setAttribute('data-letter', letter);
                    optionDiv.onclick = () => selectOption(letter, optionDiv);
                    
                    optionDiv.innerHTML = `
                        <div class="option-letter">${letter}</div>
                        <div class="option-text">${question.options[letter]}</div>
                    `;
                    
                    optionsContainer.appendChild(optionDiv);
                }
            });

            // Reset next button
            nextBtn.disabled = true;
            nextBtn.textContent = 'Check Answer';
        }

        // Select an option
        function selectOption(letter, element) {
            if (feedbackShown) return; // Don't allow changing after feedback is shown

            // Remove previous selection
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });

            // Add selection to clicked option
            element.classList.add('selected');
            selectedAnswer = letter;

            // Enable next button
            nextBtn.disabled = false;
        }

        // Next button click handler
        nextBtn.onclick = () => {
            if (!selectedAnswer) return;

            const question = questions[currentQuestionIndex];

            if (!feedbackShown) {
                // First click - show feedback
                showFeedback(question);
                feedbackShown = true;
                nextBtn.textContent = currentQuestionIndex === questions.length - 1 ? 'Finish Quiz' : 'Next Question';
            } else {
                // Second click - move to next question
                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                    showQuestion();
                } else {
                    showResults();
                }
            }
        };

        // Show feedback
        function showFeedback(question) {
            const isCorrect = selectedAnswer === question.correct;
            
            // Save answer
            userAnswers[currentQuestionIndex] = {
                selected: selectedAnswer,
                correct: question.correct,
                isCorrect: isCorrect
            };

            if (isCorrect) {
                correctCount++;
            }

            // Disable all options
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.add('disabled');
                opt.onclick = null;
            });

            // Highlight correct and wrong answers
            document.querySelectorAll('.option').forEach(opt => {
                const letter = opt.getAttribute('data-letter');
                if (letter === question.correct) {
                    opt.classList.add('correct');
                    opt.classList.remove('selected');
                } else if (letter === selectedAnswer && !isCorrect) {
                    opt.classList.add('wrong');
                    opt.classList.remove('selected');
                }
            });

            // Show feedback message
            feedbackDiv.classList.add('show');
            if (isCorrect) {
                feedbackDiv.classList.add('correct');
                feedbackTitle.innerHTML = 'âœ… Correct!';
                feedbackText.textContent = question.explanation;
            } else {
                feedbackDiv.classList.add('wrong');
                feedbackTitle.innerHTML = `âŒ Incorrect. The correct answer is ${question.correct}`;
                feedbackText.textContent = question.explanation;
            }
        }

        // Show results
        function showResults() {
            const percentage = Math.round((correctCount / questions.length) * 100);

            // Update progress to 100%
            progressFill.style.width = '100%';
            progressPercentage.textContent = '100%';
            progressText.textContent = `Completed ${questions.length} questions`;

            // Hide question container, show results
            questionContainer.classList.add('hidden');
            resultsContainer.classList.remove('hidden');

            // Update results
            document.getElementById('results-score').textContent = percentage + '%';
            document.getElementById('results-text').textContent = 
                percentage >= 80 ? 'Excellent work! You\'re ready for the test!' :
                percentage >= 60 ? 'Good job! Keep practicing to improve further.' :
                'Keep practicing! Review the explanations to improve.';
            
            document.getElementById('results-details').innerHTML = 
                `<span class="score-badge score-correct">âœ“ ${correctCount} Correct</span>` +
                `<span class="score-badge score-wrong">âœ— ${questions.length - correctCount} Wrong</span>`;
        }

        // Restart quiz
        function restartQuiz() {
            currentQuestionIndex = 0;
            userAnswers = [];
            correctCount = 0;
            selectedAnswer = null;
            feedbackShown = false;

            // Show question container, hide results
            questionContainer.classList.remove('hidden');
            resultsContainer.classList.add('hidden');

            // Start again
            init();
        }

        // Start the quiz
        init();
    </script>
</body>
</html>